<head>
    <script src="../js/nocss.js"></script>
    <globalStyle></globalStyle>
</head>
<body width="100%" height="100%" padding="20px" childMargin="0 0 10px 0">
    <!-- switcher raw -->
    <row gap="20px">
        <!-- animate -->
        <row id="switch2" width="100px" height="40px" radius="20px" 
            border="1px solid #a0a0a0" 
            bgcolor="white"
            checked="false"
            position="relative"
            >
            <div    flex="1" height="40px" childAnchor="center" color="white">ON</div>
            <div    flex="1" height="40px" childAnchor="center" color="green">OFF</div>
            <circle position="absolute" top="0" left="0"  width="38px" bgcolor="green" border="2px solid white"></circle>
        </row>

        <!-- ON -->
        <div id="switchOn" width="100px" height="40px" radius="20px" 
            border="1px solid green" 
            bgcolor="green"
            checked="false"
            position="relative"
            >
            <div    position="absolute" top="0" left="0"  width='50px' height="40px" childAnchor="center" color="white">ON</div>
            <div    position="absolute" top="0" right="0" width='50px' height="40px" childAnchor="center" color="green">OFF</div>
            <circle position="absolute" top="0" left="60px" width="38px" bgcolor="white" border="2px solid green"></circle>
        </div>

    </row>

    <!-- switcher -->
    <row gap="20px">
        <switcher checked="false"></switcher>
        <switcher checked="true" trueText="YES" falseText="NO" height="30px" width="80px"></switcher>
    </row>
</body>
    
<script>
    //-------------------------------------------
    // switcher button
    //-------------------------------------------
    NoCss.registProperties();



    //-------------------------------------------
    // switch2
    //-------------------------------------------
    var switch2 = document.getElementById('switch2');
    switch2.addEventListener('click', ()=> {
        var b = switch2.checked || false;
        setCheck2(switch2, !b, 'green');
    });

    /** Set switch value
     * @param {HTMLElement} ele
     * @param {boolean} b
     * @param {string} clr
    */
    function setCheck2(ele, b, clr){
        ele.checked = b;
        var divCircle = ele.getElementsByTagName('circle')[0];
        divCircle.style.left                = b ? '60px'  :  '0';

        setTimeout(()=>{
            divCircle.style.borderColor         = b ? clr : 'white';
            divCircle.style.backgroundColor     = b ? 'white' : clr;
            ele.style.backgroundColor           = b ? clr : 'white';
            ele.style.borderColor               = b ? clr : '#a0a0a0';
        }, 100);
    }

    // 效果都不是很好，主要是同时动画，导致闪得厉害。建议先移动圆球，再变更背景色
</script>
    