<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./nocss.ico" type="image/x-icon" />
    <title>NoCSS.js</title>
    <script src="../bin/nocss.js" ></script>
    <globalStyle></globalStyle>
</head>

<body onload="setLinks()" padding="0">
    <row width="100%" height="100%">
        <column width="300px" height="100%" bgColor="#f0f0f0" padding="20px 0 0 0">
          <ul>
            <li><a target="iframe1" href="./example/about.html">About</a></li>
            <li>Theme</li>
            <ul>
              <li><a target="iframe1" href="./example/theme.html">Theme</a></li>
              <li><a target="iframe1" href="./example/icon-font.html">IconFont</a></li>
              <li><a target="iframe1" href="./example/icon-awesome.html">IconAwesome</a></li>
              <li><a target="iframe1" href="./example/basic-style.html">GlobalStyle</a></li>
            </ul>
            <li>Basic</li>
            <ul>
              <li><a target="iframe1" href="./example/basic-tag.html">Tag</a></li>
              <li><a target="iframe1" href="./example/basic-div.html">Div</a></li>
              <li><a target="iframe1" href="./example/image.html">Image</a></li>
              <li><a target="iframe1" href="./example/link.html">Link</a></li>
            </ul>
            <li>Container</li>
            <ul>
              <li><a target="iframe1" href="./example/basic-rect.html">Rectangle</a></li>
              <li><a target="iframe1" href="./example/basic-circle.html">Circle</a></li>
              <li><a target="iframe1" href="./example/layout-anchor.html">Anchor</a></li>
              <li><a target="iframe1" href="./example/layout-dock.html">Dock</a></li>
              <li><a target="iframe1" href="./example/layout-rowcolgrid.html">Row Column Grid</a></li>
              <li><a target="iframe1" href="./example/layout-container.html">Responsive Container</a></li>
              <li><a target="iframe1" href="./example/layout-form.html">Responsive Form</a></li>
              <li><a target="iframe1" href="./example/layout-portal.html">Portal</a></li>
              <li><a target="iframe1" href="./example/layout-dashboard.html">Map dashboard*</a></li>
              <li><a target="iframe1" href="./example/layout-mobile.html">Mobile*</a></li>
            </ul>
            <li>Popup</li>
            <ul>
              <li><a target="iframe1" href="./example/popup-dialog.html">Dialog*</a></li>
              <li><a target="iframe1" href="./example/popup.html">Popup*</a></li>
            </ul>
            <li>Form</li>
            <ul>
              <li><a target="iframe1" href="./example/form.html">Button</a></li>
            </ul>
            <li>Extension</li>
            <ul>
              <li><a target="iframe1" href="./example/ext-animation.html&show=all">Animation</a></li>
              <li><a target="iframe1" href="./example/ext-property.html&show=all">Property</a></li>
              <li><a target="iframe1" href="./example/ext-panel.html&show=all">Panel</a></li>
              <li><a target="iframe1" href="./example/ext-switch.html&show=all">Switch</a></li>
            </ul>
          </ul>
        </column>
        <column flex="1">
          <iframe id='iframe1' name="iframe1" src="./example/about.html"           height="60%" style="border:0;"></iframe>
          <iframe id='iframe2' name="iframe2" src="./example/code.html?src=about.html" flex="1"     border="1px" ></iframe>
        </column>
    </row>
</body>
</html>

<script>
    // Let iframe1 to show page, iframe2 to show code.
    function setLinks(){
        var iframe1 = document.getElementById('iframe1');
        var iframe2 = document.getElementById('iframe2');
        const links = document.getElementsByTagName('a');
        for (let i = 0; i < links.length; i++) {
            links[i].addEventListener('click', function (event) {
                event.preventDefault();

                // iframe1 : xxx.html
                var url = this.href;
                var index = url.indexOf('&');
                if (index != -1) 
                    url = url.slice(0, index);
                iframe1.src = url;

                // iframe2 : code.html?src=xxx.html&show=all
                url = this.href;
                var n = url.lastIndexOf('/');
                if (n != -1)
                    url = url.slice(n+1);
                iframe2.src = './example/code.html?src=' + url;
            });
        }
    }
</script>